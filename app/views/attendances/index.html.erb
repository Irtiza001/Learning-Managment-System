<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center" style="margin-bottom: 20px;">
    <h1 class="font-bold text-4xl">Attendances</h1>
    <%= link_to new_attendance_path, class: "btn btn-primary" do %>
      <i class="fas fa-plus-circle mr-2"></i>New Attendance
    <% end %>
  </div>

  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Course</th>
          <th>Status</th>
          <th>Instructor</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @attendances.each do |attendance| %>
          <tr>
            <td><%= attendance.date.strftime("%Y-%m-%d") %></td>
            <td><%= attendance.course&.name || "N/A" %></td>
            <td><%= attendance.status == "present" ? '<span class="text-green-500">Present</span>'.html_safe : '<span class="text-red-500">Absent</span>'.html_safe %></td>
            <td><%= attendance.course&.instructor_name || "N/A" %></td>
            <td class="actions">
              <%= link_to attendance, class: "btn btn-info btn-sm" do %>
                <i class="fas fa-eye"></i>
              <% end %>
              <%= link_to edit_attendance_path(attendance), class: "btn btn-secondary btn-sm" do %>
                <i class="fas fa-edit"></i>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
